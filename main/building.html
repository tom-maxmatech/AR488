<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Working with EZGPIB and KE5FX" href="tools.html" /><link rel="prev" title="Command Reference" href="commands.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2021.11.16"/>
        <title>Building an AR488 GPIB Interface - AR488 0.49.14 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=916d6ed8f59335acffa15474ff504849343d4c76" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=0af69da206d614734f649b27d4cdc2dd6c31f41d" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">AR488 0.49.14 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">AR488 0.49.14 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Command Reference</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Building an AR488 GPIB Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Working with EZGPIB and KE5FX</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="appendixes.html">Appendixes</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../boards/gpib.html">GPIB IEEE-488 connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boards/uno_nano.html">Arduino Uno and Nano</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boards/mega2560.html">Arduino Mega 2560</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boards/micro.html">Arduino Micro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boards/leonardo_r3.html">Arduino Leonardo R3</a></li>
<li class="toctree-l2"><a class="reference internal" href="xdiag.html">XDIAG command notes</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="building-an-ar488-gpib-interface">
<h1>Building an AR488 GPIB Interface<a class="headerlink" href="#building-an-ar488-gpib-interface" title="Permalink to this headline">Â¶</a></h1>
<p>Construction of an Arduino GPIB interface is relatively straightforward and requires a
single Arduino UNO, NANO or MEGA2560 board, a length of cable that is at minimum 16-way
and preferably screened, and an IEEE488 connector. An old GPIB cable could be
re-purposed by removing one end, or an old parallel printer cable could be used, in
which case a separate 24-way IEEE488 connector will need to be purchased.</p>
<p>New GPIB/IEEE488 cables are expensive. Cheaper cables can be found from various sellers
on eBay. Connectors can be found by searching for âCentronics 24â rather than âIEEE488â
or âGPIBâ. In the UK, RS Components sell these as part number 239-1207, for Â£2.86. They
can also be found on eBay. Old parallel printer cables can still be found on
charity/thrift shops or on market stalls.</p>
<p>For connection details and wiring diagrams for specific boards, please see:</p>
<ul class="simple">
<li><p>Appendix A â Uno and Nano</p></li>
<li><p>Appendix B â Mega 2560</p></li>
<li><p>Appendix C â Micro 32u4</p></li>
</ul>
<p>Ideally, in a GPIB cable, ground pins 18, 19, 20, 21, 22, 23 should be connected to a
ground wire that forms a twisted pair with the <code class="docutils literal notranslate"><span class="pre">DAV</span></code>, <code class="docutils literal notranslate"><span class="pre">NRFD</span></code>, <code class="docutils literal notranslate"><span class="pre">NDAC</span></code>, <code class="docutils literal notranslate"><span class="pre">IFC</span></code>,
<code class="docutils literal notranslate"><span class="pre">SRQ</span></code> and <code class="docutils literal notranslate"><span class="pre">ATN</span></code> control wires, and a shielded twisted pair cable with sufficient
multiple pairs would be required. However, if such a cable is not available, then
linking them together and connecting them to GND on the Arduino side should suffice,
especially if sufficient numbers of conductors are not available.</p>
<p>Further information can be found by following the links below:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.electronics-notes.com/articles/test-methods/gpib-ieee-488-bus/pinout-pin-connections.php">Additional GPIB pinout information - Link 1</a></p></li>
<li><p><a class="reference external" href="https://allpinouts.org/pinouts/connectors/buses/ieee-488-gpib-hpib/">Additional GPIB pinout information - Link 2</a></p></li>
</ul>
<p>Once the cable has been completed, the sketch should then be downloaded to the Arduino
board and the interface should be ready to test. In order to provide multi-platform
compatibility, the AR488 firmware sketch is modular and comes in several files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Filename</span><span class="p">:</span>           <span class="n">Purpose</span><span class="p">:</span>
<span class="n">AR488</span><span class="o">.</span><span class="n">ino</span>           <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">main</span> <span class="n">AR488</span> <span class="n">firmware</span> <span class="n">sketch</span>
<span class="n">AR488_Config</span><span class="o">.</span><span class="n">h</span>      <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">configuration</span> <span class="n">file</span><span class="o">.</span> <span class="n">All</span> <span class="n">configuration</span>
                    <span class="n">options</span> <span class="n">are</span> <span class="nb">set</span> <span class="n">here</span><span class="o">.</span>
<span class="n">AR488_Hardware</span><span class="o">.</span><span class="n">h</span>    <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">hardware</span> <span class="n">support</span> <span class="n">C</span><span class="o">++</span> <span class="n">header</span> <span class="n">file</span>
<span class="n">AR488_Hardware</span><span class="o">.</span><span class="n">cpp</span>  <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">hardware</span> <span class="n">support</span> <span class="n">C</span><span class="o">++</span> <span class="n">program</span> <span class="n">file</span>
</pre></div>
</div>
<p>The firmware is supplied in a ZIP file. Download and unpack all files into a directory
called AR488. Load the main sketch, AR488.ino into the Arduino IDE. This should open all
files into separate tabs. Edit AR488_Config.h as required and save. Then select the
correct board from the list of boards within the Arduino IDE, Tools | Board menu option
and compile and upload the sketch.</p>
<img alt="../_images/ar488_example.png" src="../_images/ar488_example.png"/>
<p>The following section details further hardware tweaks that may be required to make the
board work correctly with specific GPIB software.</p>
<section id="multiple-arduinos-on-the-bus-and-problems-with-instruments">
<h2>Multiple Arduinos on the bus and problems with instruments<a class="headerlink" href="#multiple-arduinos-on-the-bus-and-problems-with-instruments" title="Permalink to this headline">Â¶</a></h2>
<p>The AR488 can be used in both controller mode and device mode and only ONE controller
can be active at any one time. When there is just one Arduino controller on the bus
controlling one or more instruments, this does not present a problem, provided that the
Arduino is operating within its current handling limits.</p>
<p>However, it is possible to have one AR488 operating as a controller and another as a
device simultaneously on the bus along with other instruments. In this situation and
without any additional buffering (see the following section: SN7516x GPIB transceiver
integrated circuits), problems can arise when two or more Arduinos are connected to the
GPIB bus and one of them is powered down. Such problems are manifest by instruments
failing to respond to the ++read or other commands, failing to respond to direct
instrument commands, or other erratic bus communication problems.</p>
<p>The reason for this is because when powered down, Arduino control pins do not present
with a high impedance. In a powered down state, voltages present on the various signal
and data lines are passed via protection diodes internal to the ATMega processor, to
the +VCC rail on the powered down interface. This then causes all pins on the unpowered
Arduino to effectively go HIGH. Furthermore, enough power may be present on the +VCC
rail to at least partially power the processor, which, even if it does manage to
operate, is likely to do so in an unpredictable manner the result of which may be the
aforementioned interference with the proper functioning of other equipment on the GPIB
bus. This is a parasitic power phenomenon that is not specific to Arduino
microcontrollers and that affects various other devices also. Further information
regarding this phenomenon can be found here:</p>
<p><a class="reference external" href="https://www.eevblog.com/forum/blog/eevblog-831-power-a-micro-with-no-power-pin!/">https://www.eevblog.com/forum/blog/eevblog-831-power-a-micro-with-no-power-pin!/</a></p>
<p>Consequently, unpowered Arduino devices will adversely affect other devices on the GPIB
bus. It is therefore essential to either keep Arduino devices powered on, or physically
disconnected from the bus. This is NOT an issue when there is just ONE Arduino-based
GPIB controller remotely controlling instruments on a bus. Therefore, other than when an
Arduino is operating as a controller, it is not recommended to leave unpowered Arduinoâs
connected to the bus.</p>
<section id="sn7516x-gpib-transceiver-integrated-circuits">
<h3>SN7516x GPIB transceiver integrated circuits<a class="headerlink" href="#sn7516x-gpib-transceiver-integrated-circuits" title="Permalink to this headline">Â¶</a></h3>
<p>The AR488 firmware supports SN75160 and SN75161 GPIB transceiver integrated circuits.
These ICs provide a buffer between the Arduino and the GPIB bus and allow the full 48mA
drive current for a GPIB device. In addition, when powered down, these devices present a
high impedance to the GPIB bus so that the connected device does not interfere with the
operation of the bus. This solves the âparasitic powerâ problem that ocurrs when using
Arduinos connected directly without buffering to the the GPIB bus and means that the
interface can be safely powered down without affecting communication on the GPIB bus.</p>
<p>In order to use these GPIB transceiver ICs, at least one SN75160 and one SN75161 will be
required and a separate daughterboard will have to be built. The SN75160 provides
3-state outputs for the data bus, whereas the SN75161 provides similar isolation for the
GPIB control signals. Connection details can be found in Appendix A, which details
connections for the Uno board. A similar approach can be used for any other board using
available GPIO pins.</p>
<p>Operation of the SN75160 is simple. The Arduino outputs are connected to the âTerminal
I/O portsâ side of the IC and the GPIB bus <code class="docutils literal notranslate"><span class="pre">DIO</span></code> lines to the âGPIB I/O portsâ side.
The <code class="docutils literal notranslate"><span class="pre">PE</span></code> pin should be connected to VCC in order to provide 3-state output. The <code class="docutils literal notranslate"><span class="pre">TE</span></code>
(talk-enable) pin is connected to a GPIO pin on the Arduino. The GPIO pin is defined in
<code class="docutils literal notranslate"><span class="pre">Config.h</span></code>. For further details see the <a class="reference internal" href="configuration.html#configuration"><span class="std std-ref">Configuration</span></a> section.</p>
<p>The operation of the SN75161 is a little more complex as part of the IC is controlled by
the <code class="docutils literal notranslate"><span class="pre">TE</span></code> pin, but also by the <code class="docutils literal notranslate"><span class="pre">DC</span></code> (direction-control) pin. The <code class="docutils literal notranslate"><span class="pre">TE</span></code> pin is
connected to the same GPIO pin as the 75160 <code class="docutils literal notranslate"><span class="pre">TE</span></code> pin. The <code class="docutils literal notranslate"><span class="pre">DC</span></code> pin needs to be
driven separately. This can be achieved by connecting <code class="docutils literal notranslate"><span class="pre">DC</span></code> to a seperate GPIO pin
which can also be defined in <code class="docutils literal notranslate"><span class="pre">Config.h</span></code>. Alternatively, it can be controlled by the
<code class="docutils literal notranslate"><span class="pre">REN</span></code> signal. The <code class="docutils literal notranslate"><span class="pre">REN</span></code> signal is asserted (<code class="docutils literal notranslate"><span class="pre">LOW</span></code>) in controller mode and
un-asserted (<code class="docutils literal notranslate"><span class="pre">HIGH</span></code>) in device mode which conveniently corresponds to the drive signal
required for <code class="docutils literal notranslate"><span class="pre">DC</span></code> to switch between controller and device mode. When <code class="docutils literal notranslate"><span class="pre">REN</span></code> is being
used to control <code class="docutils literal notranslate"><span class="pre">DC</span></code>, it cannot be turned off as this would switch the IC into device
mode and communication would fail. For this reason, the <code class="docutils literal notranslate"><span class="pre">++ren</span></code> command is not
available in this configuration (see <code class="docutils literal notranslate"><span class="pre">++ren</span></code> in the <a class="reference internal" href="commands.html#custom-commands"><span class="std std-ref">Custom commands</span></a> section for
details on the behaviour of this command).</p>
<p>The SN75162 IC differs from the SN75161 in that the <code class="docutils literal notranslate"><span class="pre">REN</span></code> and <code class="docutils literal notranslate"><span class="pre">IFC</span></code> signals are
independently controlled. The input required is the inverse of the <code class="docutils literal notranslate"><span class="pre">DC</span></code> signal.
Conceivably a separate GPIO pin could be used to drive the <code class="docutils literal notranslate"><span class="pre">SC</span></code> pin of the SN75162 but
this is currently untested and unsupported. Alternatively some means of hardware
inversion could be devised and the pin connected to <code class="docutils literal notranslate"><span class="pre">DC</span></code>, but in this case, experiment
at your own risk.</p>
</section>
<section id="arduino-brownout-detection-setting">
<h3>Arduino brownout detection setting<a class="headerlink" href="#arduino-brownout-detection-setting" title="Permalink to this headline">Â¶</a></h3>
<p>The first three bits of the Arduino extended fuse determine the brownout detection
(<code class="docutils literal notranslate"><span class="pre">BOD</span></code>) setting. <code class="docutils literal notranslate"><span class="pre">BOD</span></code> will hold the processor in the reset state when the power
rail voltage falls below a specific threshold. There are three threshold levels that can
be set depending on the bits that is set.</p>
<p>On the boards that were used for development, the default setting of the <code class="docutils literal notranslate"><span class="pre">Extended</span>
<span class="pre">Fuse</span></code> seems to be <code class="docutils literal notranslate"><span class="pre">FD</span></code>, which means that the last three bits will be <code class="docutils literal notranslate"><span class="pre">101</span></code> and
therefore that the <code class="docutils literal notranslate"><span class="pre">BOD</span></code> level is set to <code class="docutils literal notranslate"><span class="pre">BODLEVEL1</span></code>.</p>
<p>It has been reported that when <code class="docutils literal notranslate"><span class="pre">BOD</span></code> is disabled (e.g. fuse set to <code class="docutils literal notranslate"><span class="pre">FF</span></code>) and the
Arduino signal pins are connected to power, that under some circumstances the Arduino
flash memory can get corrupted and the sketch will have to be downloaded again. It is
therefore inadvisable to disable BOD on an Arduino being used as a GPIB interface.</p>
<p>Arduino <code class="docutils literal notranslate"><span class="pre">BOD</span></code> settings are as follows:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 29%"/>
<col style="width: 34%"/>
<col style="width: 37%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BOD Level</p></th>
<th class="head"><p>Bit setting</p></th>
<th class="head"><p>Threshold</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DISABLED</p></td>
<td><p>111</p></td>
<td><p>BOD disabled</p></td>
</tr>
<tr class="row-odd"><td><p>BODLEVEL0</p></td>
<td><p>110</p></td>
<td><p>1.7-2.0v</p></td>
</tr>
<tr class="row-even"><td><p>BODLEVEL1</p></td>
<td><p>101</p></td>
<td><p>2.5-2.9v</p></td>
</tr>
<tr class="row-odd"><td><p>BODLEVEL2</p></td>
<td><p>100</p></td>
<td><p>4.1-4.5v</p></td>
</tr>
</tbody>
</table></div>
<p>To check the extended fuse setting, the following AVRDUDE command line can be used:</p>
<p>UNO/NANO:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>avrdude<span class="w"> </span>-P<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>-b<span class="w"> </span><span class="m">19200</span><span class="w"> </span>-c<span class="w"> </span>usbasp<span class="w"> </span>-p<span class="w"> </span>m328p<span class="w"> </span>-v
</pre></div>
</div>
<p>Mega 2560:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>avrdude<span class="w"> </span>-P<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>-b<span class="w"> </span><span class="m">115200</span><span class="w"> </span>-c<span class="w"> </span>usbasp<span class="w"> </span>-p<span class="w"> </span>m2560<span class="w"> </span>-v
</pre></div>
</div>
<p>MEGA 32U4:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>avrdude<span class="w"> </span>-P<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>-b<span class="w"> </span><span class="m">115200</span><span class="w"> </span>-c<span class="w"> </span>usbasp<span class="w"> </span>-p<span class="w"> </span>m32u4<span class="w"> </span>-v
</pre></div>
</div>
<p>The ATMega328p part can be specified as <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">m328p</span></code> or <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">atmega328p</span></code>. The Mega 2560
and Mega 32u4 can also be specified using either convention. If your Arduino has a 328pb
processor IC, then this will have a different signature to the 328p and the -p parameter
needs to be specified as <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">m328pb</span></code> or <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">atmega328pb</span></code>.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="tools.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Working with EZGPIB and KE5FX</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="commands.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Command Reference</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2022, John Chajecki |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="../_sources/main/building.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Building an AR488 GPIB Interface</a><ul>
<li><a class="reference internal" href="#multiple-arduinos-on-the-bus-and-problems-with-instruments">Multiple Arduinos on the bus and problems with instruments</a><ul>
<li><a class="reference internal" href="#sn7516x-gpib-transceiver-integrated-circuits">SN7516x GPIB transceiver integrated circuits</a></li>
<li><a class="reference internal" href="#arduino-brownout-detection-setting">Arduino brownout detection setting</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>